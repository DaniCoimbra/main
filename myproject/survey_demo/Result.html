{% extends "global/Page.html" %}

{% block title %}
    {% if player.treatment == "treatment_1" %}
        Round Results
    {% else %}
        Cumulative Results
    {% endif %}
{% endblock %}

{% block content %}

    <div class="cumulative-results-container">
        <p class="cumulative-summary">
            {% if player.treatment == "treatment_1" %}
                The return from the ${{ total }} available for investments in this round is <strong>$<span id="cumulative_return">{{ cumulative_return }}</span></strong>.
            {% else %}
                The cumulative return from the ${{ total }} available for investments is <strong>$<span id="cumulative_return">{{ cumulative_return }}</span></strong>.
            {% endif %}
        </p>

        {% if lottery_size >= 1 %}
        <div class="investment-round">
            <p><strong>Round {{round_numbers.0}} Results:</strong></p>
            <p>
                Out of the $100 available for investment, the index return was <strong>{{ lottery_1_random }}%</strong>. The robo-investor allocated 
                <strong>$<span id="round1_index_investment">{{ lottery_1_risky }}</span></strong> to the index and 
                <strong>$<span id="round1_risk_free_investment">{{ lottery_1_rf }}</span></strong> to the risk-free asset.
            </p>
            <p>
                Your total outcome from this investment is <strong>${{ lottery_1_outcome }}</strong>.
            </p>
        </div>
        {% endif %}

        {% if lottery_size >= 2 %}
        <div class="investment-round">
            <p><strong>Round {{round_numbers.1}} Results:</strong></p>
            <p>
                Out of the $100 available for investment, the index return was <strong>{{ lottery_2_random }}%</strong>. The robo-investor allocated 
                <strong>$<span id="round2_index_investment">{{ lottery_2_risky }}</span></strong> to the index and 
                <strong>$<span id="round2_risk_free_investment">{{ lottery_2_rf }}</span></strong> to the risk-free asset.
            </p>
            <p>
                Your total outcome from this investment is <strong>${{ lottery_2_outcome }}</strong>.
            </p>
        </div>
        {% endif %}

        {% if lottery_size >= 3 %}
        <div class="investment-round">
            <p><strong>Round {{round_numbers.2}} Results:</strong></p>
            <p>
                Out of the $100 available for investment, the index return was <strong>{{ lottery_3_random }}%</strong>. The robo-investor allocated 
                <strong>$<span id="round3_index_investment">{{ lottery_3_risky }}</span></strong> to the index and 
                <strong>$<span id="round3_risk_free_investment">{{ lottery_3_rf }}</span></strong> to the risk-free asset.
            </p>
            <p>
                Your total outcome from this investment is <strong>${{ lottery_3_outcome }}</strong>.
            </p>
        </div>
        {% endif %}

        {% if lottery_size >= 4 %}
        <div class="investment-round">
            <p><strong>Round {{round_numbers.3}} Results:</strong></p>
            <p>
                Out of the $100 available for investment, the index return was <strong>{{ lottery_4_random }}%</strong>. The robo-investor allocated 
                <strong>$<span id="round4_index_investment">{{ lottery_4_risky }}</span></strong> to the index and 
                <strong>$<span id="round4_risk_free_investment">{{ lottery_4_rf }}</span></strong> to the risk-free asset.
            </p>
            <p>
                Your total outcome from this investment is <strong>${{ lottery_4_outcome }}</strong>.
            </p>
        </div>
        {% endif %}
    </div>

    {{ next_button }}


    <style>
        .cumulative-results-container {
            margin-top: 20px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        .cumulative-summary {
            font-size: 16px;
            margin-bottom: 15px;
        }

        .investment-round {
            margin-bottom: 15px;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }

        .investment-round p {
            margin: 5px 0;
            font-size: 15px;
        }

        .next-button-container {
            text-align: right;
            margin-top: 20px;
        }
    </style>
{% endblock %}
